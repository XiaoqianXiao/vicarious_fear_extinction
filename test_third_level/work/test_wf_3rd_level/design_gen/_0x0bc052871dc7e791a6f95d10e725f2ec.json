[
    [
        "base_dir",
        "/Users/xiaoqianxiao/PycharmProjects/vicarious_fear_extinction/test_third_level/output/design_files"
    ],
    [
        "function_str",
        "def create_mixed_design_files(group_info, base_dir):\n    import numpy as np\n    import os\n    n_subjects = len(group_info)\n    n_measures = 2\n\n    # Design matrix: drug effect only\n    design = np.zeros((n_subjects * n_measures, 1))\n    design[::2, 0] = 1  # Drug condition 1\n    design[1::2, 0] = -1  # Drug condition 2\n\n    # Contrast: test drug effect\n    con = np.array([1])\n\n    # Dummy cov_split_file: all in one group\n    grp = np.ones(n_subjects * n_measures)\n\n    # Save to files\n    design_file = os.path.join(base_dir, 'design.mat')\n    con_file = os.path.join(base_dir, 'contrast.con')\n    grp_file = os.path.join(base_dir, 'design.grp')\n\n    # Save design matrix in FSL .mat format\n    with open(design_file, 'w') as f:\n        f.write('/NumWaves {}\\n'.format(design.shape[1]))\n        f.write('/NumPoints {}\\n'.format(design.shape[0]))\n        f.write('/Matrix\\n')\n        np.savetxt(f, design, fmt='%.6f')\n\n    # Save contrast in FSL .con format\n    with open(con_file, 'w') as f:\n        f.write('/ContrastName1 DrugEffect\\n')\n        f.write('/NumWaves {}\\n'.format(len(con)))\n        f.write('/NumContrasts 1\\n')\n        f.write('/Matrix\\n')\n        np.savetxt(f, [con], fmt='%.6f')\n\n    # Save dummy group file in FSL .grp format\n    with open(grp_file, 'w') as f:\n        f.write('/NumWaves 1\\n')\n        f.write('/NumPoints {}\\n'.format(len(grp)))\n        f.write('/Matrix\\n')\n        np.savetxt(f, grp, fmt='%d')\n\n    return design_file, con_file, grp_file\n"
    ],
    [
        "group_info",
        [
            [
                "sub-00",
                1
            ],
            [
                "sub-01",
                1
            ],
            [
                "sub-02",
                1
            ],
            [
                "sub-03",
                1
            ],
            [
                "sub-04",
                1
            ],
            [
                "sub-05",
                2
            ],
            [
                "sub-06",
                2
            ],
            [
                "sub-07",
                2
            ],
            [
                "sub-08",
                2
            ],
            [
                "sub-09",
                2
            ]
        ]
    ]
]